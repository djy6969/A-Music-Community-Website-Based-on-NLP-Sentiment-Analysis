(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SearchSongs"],{4238:function(t,e,n){"use strict";n("bea0")},"504c":function(t,e,n){var a=n("9e1e"),r=n("0d58"),s=n("6821"),o=n("52a7").f;t.exports=function(t){return function(e){var n,c=s(e),i=r(c),u=i.length,l=0,g=[];while(u>l)n=i[l++],a&&!o.call(c,n)||g.push(t?[n,c[n]]:c[n]);return g}}},"7ab6":function(t,e,n){"use strict";n("a2ec")},8615:function(t,e,n){var a=n("5ca1"),r=n("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},a2ec:function(t,e,n){},b2b7:function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"with-pagination"},[t._t("default"),e("div",{staticClass:"pagination-wrap"},[e("Pagination",{staticClass:"pagination",attrs:{"current-page":t.currentPage,"page-size":t.limit,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.onPageChange}})],1)],2)},r=[],s=(n("8e6e"),n("456d"),n("ac6a"),n("8615"),n("ade3")),o=(n("96cf"),n("1da1")),c=(n("c5f6"),n("ed08"));function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={props:{getData:{type:Function,required:!0},getDataParams:{type:Object,default:function(){return{}}},limit:{type:Number,default:10},scrollTarget:{type:HTMLElement},total:{type:Number,default:0},keywords:{type:String}},created:function(){this.onPageChange()},data:function(){return{currentPage:1}},methods:{onPageChange:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("undefined"===typeof this.keywords),"undefined"!==typeof this.keywords){t.next=10;break}return t.next=5,this.getData(u({limit:this.limit,offset:Object(c["getPageOffset"])(this.currentPage,this.limit)},this.getDataParams));case 5:e=t.sent,this.$emit("getDataSuccess",e),this.scrollTarget&&Object(c["scrollInto"])(this.scrollTarget),t.next=11;break;case 10:c["newRequest"].post("/search/searchMusic",{searchContent:this.keywords}).then((function(t){n.$emit("getDataSuccess",Object.values(t.data)),n.scrollTarget&&Object(c["scrollInto"])(n.scrollTarget)}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.$emit("getDataError",t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function e(){return t.apply(this,arguments)}return e}()},watch:{getDataParams:{deep:!0,handler:function(){this.currentPage=1,this.onPageChange()}}}},g=l,h=(n("4238"),n("0c7c")),d=Object(h["a"])(g,a,r,!1,null,"eae1300a",null);e["a"]=d.exports},bea0:function(t,e,n){},f15b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-songs"},[e("WithPagination",{attrs:{getData:t.newGetSearch,getDataParams:t.searchParams,limit:30,scrollTarget:t.searchRoot.$refs&&t.searchRoot.$refs.header,total:t.songCount,keywords:this.keywords},on:{getDataSuccess:t.newOnGetSearch}},[e("div",{staticClass:"table"},[e("SongTable",{attrs:{highlightText:t.keywords,renderNameDesc:t.renderNameDesc,songs:t.songs,stripe:!0}})],1)])],1)},r=[],s=(n("7f7f"),n("365c")),o=n("a110"),c=n("b2b7"),i=n("ed08"),u={inject:["searchRoot"],data:function(){return{songs:[],songCount:0,currentPage:1}},methods:{getSearch:s["o"],newGetSearch:function(){},onGetSearch:function(t){var e=t.result,n=e.songs,a=e.songCount;this.songs=n.map((function(t){var e=t.id,n=t.mvid,a=t.name,r=t.alias,s=t.artists,o=t.duration,c=t.album;return Object(i["createSong"])({id:e,name:a,alias:r,artists:s,duration:o,mvId:n,albumName:c.name,albumId:c.id})})),this.songCount=a,this.searchRoot.onUpdateCount(a)},newOnGetSearch:function(t){this.songs=t.map((function(t){var e=t.seq,n=t.id,a=t.name,r=t.img,s=t.mvId,o=t.artists,c=t.url,u=t.duration,l=t.durationSecond,g=t.albumName,h=t.albumId;return Object(i["newCreateSong"])({id:e,oldId:n,name:a,artists:o,artistsText:o,url:c,duration:u,durationSecond:l,mvId:s,albumName:g,albumId:h,img:r})})),this.songCount=this.songs.length,this.searchRoot.onUpdateCount(this.songs.length)},renderNameDesc:function(t){}},computed:{keywords:function(){return this.searchRoot.keywords},searchParams:function(){return{keywords:this.keywords}}},components:{SongTable:o["a"],WithPagination:c["a"]}},l=u,g=(n("7ab6"),n("0c7c")),h=Object(g["a"])(l,a,r,!1,null,"138dd7b9",null);e["default"]=h.exports}}]);